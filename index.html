<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- S4: Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' 'unsafe-inline' https://apis.google.com https://accounts.google.com;
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: blob: https:;
      font-src 'self';
      connect-src 'self' https://sheets.googleapis.com https://accounts.google.com https://apis.google.com;
      frame-src https://accounts.google.com;
      worker-src 'self';
      manifest-src 'self';
      base-uri 'self';
      form-action 'self';
    " />

    <!-- V8: Dark mode favicon support -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/svg+xml" href="/favicon-dark.svg" media="(prefers-color-scheme: dark)" />
    <link rel="apple-touch-icon" href="/icon-192.png" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#10b981" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#065f46" media="(prefers-color-scheme: dark)" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Weightwatch" />

    <!-- SEO -->
    <meta name="description" content="Track your weight loss journey with beautiful visualizations, achievements, and goal planning" />
    <meta name="keywords" content="weight loss, fitness tracker, health, BMI, weight tracking" />

    <!-- Font preload for performance (P6) -->
    <link rel="preload" href="/fonts/Apercu-Regular.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/Apercu-Bold.woff2" as="font" type="font/woff2" crossorigin />
    <link rel="preload" href="/fonts/Apercu-Medium.woff2" as="font" type="font/woff2" crossorigin />

    <title>Weightwatch - Weight Loss Tracker</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
